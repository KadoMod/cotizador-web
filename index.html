<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>KadoMod | Merchandising Corporativo bajo demanda</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/intro.css" />

    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
        font-family:
          system-ui,
          -apple-system,
          sans-serif;
      }

      body {
        background-color: #ffffff;
        color: #1f2a44;
      }

      .hero {
        display: flex;
        height: 100vh;
        overflow: hidden;
      }

      /* IZQUIERDA */
      .hero-left {
        display: block;
        justify-items: center;
        align-content: center;
        width: 60%;
        background-color: #fdfdfd;
        padding: 70px 60px 60px 60px;
        position: relative;
        z-index: 2;
      }

      .logo-main {
        display: flex;
        width: 460px;
        margin-bottom: 10px;
      }

      .subtitle {
        font-size: 30px;
        color: #1f2a44;
        margin-bottom: 25px;
      }

      .highlight {
        background-color: #f7941d;
        color: #1f2a44;
        padding: 2px 46px;
        font-size: 35px;

        margin-bottom: 18px;
      }

      strong {
        font-size: 40px;
      }

      .hero-left h1 {
        font-size: 32px;
        margin-bottom: 25px;
      }

      .support-text {
        font-size: 22px;
        margin-bottom: 35px;
      }

      /* CTA */
      .cta-group {
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      /* Logo secundario */
      .logo-secondary img {
        width: 120px;
        margin-bottom: 20px;
      }

      /* CTA principal */
      .cta {
        position: relative;
        display: inline-block;
        text-decoration: none;
        font-size: 30px;
        font-weight: 600;
        color: #1f2a44;
        padding-bottom: 6px;
        margin-bottom: 40px;
      }

      /* Línea animada */
      .cta::after {
        content: "";
        position: absolute;
        left: 0;
        bottom: 0;
        height: 3px;
        width: 100%;
        background-color: #f7941d;
        transform: scaleX(0.3);
        transform-origin: center;
        animation: ctaPulse 5.6s ease-in-out infinite;
        transition: transform 0.35s ease;
      }

      /* Hover: control total */
      .cta:hover::after {
        transform: scaleX(1);
        animation: none;
      }

      /* Hover sutil */
      .cta:hover {
        opacity: 0.7;
      }

      /* Animación */
      @keyframes ctaPulse {
        0% {
          transform: scaleX(0.3);
        }
        50% {
          transform: scaleX(0.6);
        }
        100% {
          transform: scaleX(0.3);
        }
      }

      /* DERECHA */
      .hero-right {
        width: 40%;
        height: 100%;
        position: relative;
      }

      .carousel {
        position: relative;
        width: 100%;
        height: 110%;
        overflow: hidden;
        background-image: url(assets/img/w3.jpeg);
        background-size: cover;
        background-position: center;
        border-top-left-radius: 100%;
        border-bottom-left-radius: 100%;
      }

      .carousel-item {
        position: absolute;
        inset: 0;
        opacity: 0;
        transition: opacity 1.2s ease-in-out;
      }

      .carousel-item.active {
        opacity: 1;
        z-index: 1;
      }

      .carousel img,
      .carousel video {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-top-left-radius: 100%;
        border-bottom-left-radius: 100%;
      }

      body {
        opacity: 0;
        animation: pageFadeIn 0.4s ease forwards;
      }

      @keyframes pageFadeIn {
        to {
          opacity: 1;
        }
      }
    </style>
  </head>

  <body>
    <main class="hero">
      <!-- LADO IZQUIERDO -->
      <section class="hero-left">
        <img
          src="assets/img/KadoMod_Yellow_BlueVersion.png"
          alt="Logo corporativo KadoMod aplicado a merchandising"
          class="logo-main"
        />

        <p class="subtitle">“Merchandising Corporativo bajo demanda”</p>

        <div class="highlight">
          <strong>K</strong>ado <strong>M</strong>erch on Demand
        </div>

        <h1>Acelera tu Merchandising con autogestión.</h1>

        <p class="support-text">
          Comienza ahora tu mejor y nueva experiencia !
        </p>

        <div class="cta-group">
          <!-- Logo secundario -->
          <a href="cotizador.html" class="logo-secondary">
            <img src="assets/img/KadoMod.png" alt="Logo corporativo KadoMod aplicado a merchandising - Acceder a KadoMod" />
          </a>

          <!-- CTA PRINCIPAL -->
          <a href="cotizador.html" class="cta">
            Accede aquí y toma el control
          </a>
        </div>
      </section>

      <!-- LADO DERECHO -->
      <section class="hero-right">
        <div class="carousel" id="carousel"></div>
      </section>
    </main>

    <script>
      const carouselData = [
        { type: "video", src: "assets/video/kado2.mp4" },
        { type: "image", src: "assets/img/km1.jpeg", duration: 2800 },
        { type: "image", src: "assets/img/km3.jpeg", duration: 2500 },
        { type: "video", src: "assets/video/kado1.mp4" },
        { type: "image", src: "assets/img/km5.png", duration: 2800 },
        { type: "image", src: "assets/img/km8.jpg", duration: 2500 },
        { type: "image", src: "assets/img/km10.jpg", duration: 2500 },
        { type: "image", src: "assets/img/km2.jpeg", duration: 2800 },
        { type: "image", src: "assets/img/km4.jpeg", duration: 2800 },
        { type: "image", src: "assets/img/km7.jpeg", duration: 2800 },
        { type: "image", src: "assets/img/km9.jpg", duration: 2800 },
      ];

      const carousel = document.getElementById("carousel");
      let currentIndex = 0;
      let currentTimeout = null;

      /* Crear slides */
      carouselData.forEach((item, index) => {
        let element;

        if (item.type === "image") {
          element = document.createElement("img");
          element.src = item.src;
        }

        if (item.type === "video") {
          element = document.createElement("video");
          element.src = item.src;
          element.muted = true;
          element.playsInline = true;
          element.preload = "auto";
        }

        element.classList.add("carousel-item");
        if (index === 0) element.classList.add("active");

        carousel.appendChild(element);
      });

      /* Mostrar slide */
      function showSlide(index) {
        const items = document.querySelectorAll(".carousel-item");

        items.forEach((item) => {
          item.classList.remove("active");
          if (item.tagName === "VIDEO") {
            item.pause();
            item.currentTime = 0;
          }
        });

        const currentItem = items[index];
        currentItem.classList.add("active");

        if (currentItem.tagName === "VIDEO") {
          currentItem.play();

          currentItem.onended = () => {
            nextSlide();
          };
        } else {
          currentTimeout = setTimeout(nextSlide, carouselData[index].duration);
        }
      }

      /* Avanzar */
      function nextSlide() {
        clearTimeout(currentTimeout);
        currentIndex = (currentIndex + 1) % carouselData.length;
        showSlide(currentIndex);
      }

      /* Inicio */
      showSlide(currentIndex);

      /* Avance manual por click o tap */
      carousel.addEventListener("click", () => {
        nextSlide();
      });

      /* Soporte touch explícito (mobile) */
      carousel.addEventListener("touchstart", () => {
        nextSlide();
      });
    </script>
  </body>
</html>
